<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Required meta tags-->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="au theme template">
    <meta name="author" content="Hau Nguyen">
    <meta name="keywords" content="au theme template">

    <!-- Title Page-->
    <title>ClimateLens - Tables</title>

    <!-- Fontfaces CSS-->
    <link href="css/font-face.css" rel="stylesheet" media="all">
    <link href="vendor/fontawesome-6.7.2/css/all.min.css" rel="stylesheet" media="all">
    <link href="vendor/mdi-font/css/material-design-iconic-font.min.css" rel="stylesheet" media="all">

    <!-- Bootstrap CSS-->
    <link href="vendor/bootstrap-5.3.7.min.css" rel="stylesheet" media="all">

    <!-- Vendor CSS-->
    <link href="css/aos.css" rel="stylesheet" media="all">
    <link href="vendor/css-hamburgers/hamburgers.min.css" rel="stylesheet" media="all">
    <link href="css/swiper-bundle.min.css" rel="stylesheet" media="all">
    <link href="vendor/perfect-scrollbar/perfect-scrollbar.css" rel="stylesheet" media="all">

    <!-- Main CSS-->
    <link href="css/table.css" rel="stylesheet" media="all">
    <link href="css/style.css" rel="stylesheet" media="all">

    
</head>

<body>
    <div class="page-wrapper">
        <!-- HEADER MOBILE-->
        <header class="header-mobile d-block d-lg-none">
            <div class="header-mobile__bar">
                <div class="container-fluid">
                    <div class="header-mobile-inner">
                        <a class="logo" href="index.html">
                            <span style="font-weight:700; font-size:1.3rem; color:#2d3e50;">üå¶Ô∏èClimateLens</span>
                        </a>
                        <button class="hamburger hamburger--slider" type="button">
                            <span class="hamburger-box">
                                <span class="hamburger-inner"></span>
                            </span>
                        </button>
                    </div>
                </div>
            </div>
            <nav class="navbar-mobile">
                <div class="container-fluid">
                    <ul class="navbar-mobile__list list-unstyled">
                        <li>
                            <a href="index.html">
                                <i class="fas fa-home"></i>Home</a>
                        </li>
                        <li>
                            <a href="chart.html">
                                <i class="fas fa-chart-bar"></i>Charts</a>
                        </li>
                        <li>
                            <a href="table.html">
                                <i class="fas fa-table"></i>Tables</a>
                        </li>
                        <li>
                            <a href="compare.html">
                                <i class="far fa-check-square"></i>Compare</a>
                        </li>
                        <li>
                            <a href="map.html">
                                <i class="fas fa-map-marker-alt"></i>Maps</a>
                        </li>
                    </ul>
                </div>
            </nav>
        </header>
        <!-- END HEADER MOBILE-->

        
        <!-- PAGE CONTAINER-->
        <div class="page-container">
            <!-- HEADER DESKTOP-->
            <header class="header-desktop d-none d-lg-block">
                <div class="section__content section__content--p30">
                    <div class="container-fluid">
                        <div class="header-wrap" style="display: flex; justify-content: space-between; align-items: center;">
                            <!-- Logo -->
                            <a class="logo" href="index.html" style="display: flex; align-items: center;">
                                <span style="font-weight:700; font-size:1.3rem; color:#2d3e50;">üå¶Ô∏èClimateLens</span>
                            </a>
                            <!-- Navbar -->
                            <nav class="navbar-desktop">
                                <ul class="nav" style="gap: 18px;">
                                    <li class="nav-item">
                                        <a class="nav-link" href="index.html"><i class="fas fa-home"></i> Home</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" href="chart.html"><i class="fas fa-chart-bar"></i> Charts</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link active" href="table.html"><i class="fas fa-table"></i> Tables</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" href="compare.html"><i class="far fa-check-square"></i> Compare</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" href="map.html"><i class="fas fa-map-marker-alt"></i> Maps</a>
                                    </li>
                                </ul>
                            </nav>
                        </div>
                    </div>
                </div>
            </header>
            <!-- END HEADER DESKTOP-->

            <!-- MAIN CONTENT-->
            <div class="main-content">
                <div class="section__content section__content--p30">
                    <div class="container-fluid">
                        <div class="table-filters">
                            <div class="filter-row">
                                <div class="filter-group">
                                    <label for="countryFilter">Filter by Country</label>
                                    <select id="countryFilter" class="form-control">
                                        <option value="">All Countries</option>
                                        <option value="Argentina">Argentina</option>
                                        <option value="Australia">Australia</option>
                                        <option value="Brazil">Brazil</option>
                                        <option value="China">China</option>
                                        <option value="France">France</option>
                                        <option value="Germany">Germany</option>
                                        <option value="Indonesia">Indonesia</option>
                                        <option value="Russia">Russia</option>
                                        <option value="UK">UK</option>
                                        <option value="USA">USA</option>
                                    </select>
                                </div>
                                
                                <div class="filter-group">
                                    <label for="metricFilter">Filter by Metric</label>
                                    <select id="metricFilter" class="form-control">
                                        <option value="">All Metrics</option>
                                        <option value="temp">Avg Temperature</option>
                                        <option value="co2">CO2 Emissions</option>
                                        <option value="sea">Sea Level Rise</option>
                                        <option value="rain">Rainfall</option>
                                    </select>
                                </div>
                            </div>
                            
                            <div id="activeFilters" class="mt-3" style="display: none;">
                                <span class="filter-badge">
                                    <span id="countryBadge"></span>
                                    <i class="fas fa-times" id="clearCountryFilter"></i>
                                </span>
                                <span class="filter-badge">
                                    <span id="metricBadge"></span>
                                    <i class="fas fa-times" id="clearMetricFilter"></i>
                                </span>
                            </div>
                        </div>
                        
                        <div class="row">
                            <div class="col-lg-12">
                                <div class="table-responsive table--no-card m-b-30">
                                    <table class="table table-borderless table-striped table-earning">
                                        <thead>
                                            <tr>
                                                <th class="sortable-header" data-sort="year">Year <span class="sort-icon"></span></th>
                                                <th class="sortable-header" data-sort="country">Country <span class="sort-icon"></span></th>
                                                <th class="sortable-header metric-temp" data-sort="temp">Avg Temperature (¬∞C) <span class="sort-icon"></span></th>
                                                <th class="sortable-header metric-co2 text-right" data-sort="co2">CO2 Emissions (Tons/Capita) <span class="sort-icon"></span></th>
                                                <th class="sortable-header metric-sea text-right" data-sort="sea">Sea Level Rise (mm) <span class="sort-icon"></span></th>
                                                <th class="sortable-header metric-rain text-right" data-sort="rain">Rainfall (mm) <span class="sort-icon"></span></th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>2020</td>
                                                <td>Argentina</td>
                                                <td class="metric-temp">14.3</td>
                                                <td class="metric-co2 text-right">4.2</td>
                                                <td class="metric-sea text-right">3.5</td>
                                                <td class="metric-rain text-right">990</td>
                                            </tr>
                                            <tr>
                                                <td>2020</td>
                                                <td>Australia</td>
                                                <td class="metric-temp">12.9</td>
                                                <td class="metric-co2 text-right">14.6</td>
                                                <td class="metric-sea text-right">3.9</td>
                                                <td class="metric-rain text-right">878</td>
                                            </tr>
                                            <tr>
                                                <td>2020</td>
                                                <td>Brazil</td>
                                                <td class="metric-temp">23.8</td>
                                                <td class="metric-co2 text-right">3.3</td>
                                                <td class="metric-sea text-right">2.1</td>
                                                <td class="metric-rain text-right">1573</td>
                                            </tr>
                                            <tr>
                                                <td>2020</td>
                                                <td>China</td>
                                                <td class="metric-temp">10.2</td>
                                                <td class="metric-co2 text-right">7.3</td>
                                                <td class="metric-sea text-right">4</td>
                                                <td class="metric-rain text-right">812</td>
                                            </tr>
                                            <tr>
                                                <td>2020</td>
                                                <td>France</td>
                                                <td class="metric-temp">13.1</td>
                                                <td class="metric-co2 text-right">6.5</td>
                                                <td class="metric-sea text-right">4.3</td>
                                                <td class="metric-rain text-right">910</td>
                                            </tr>
                                            <tr>
                                                <td>2020</td>
                                                <td>Germany</td>
                                                <td class="metric-temp">9.5</td>
                                                <td class="metric-co2 text-right">8.7</td>
                                                <td class="metric-sea text-right">3.5</td>
                                                <td class="metric-rain text-right">728</td>
                                            </tr>
                                            <tr>
                                                <td>2020</td>
                                                <td>Indonesia</td>
                                                <td class="metric-temp">21.6</td>
                                                <td class="metric-co2 text-right">3.5</td>
                                                <td class="metric-sea text-right">4.8</td>
                                                <td class="metric-rain text-right">2812</td>
                                            </tr>
                                            <tr>
                                                <td>2020</td>
                                                <td>Russia</td>
                                                <td class="metric-temp">12.7</td>
                                                <td class="metric-co2 text-right">10.6</td>
                                                <td class="metric-sea text-right">2.7</td>
                                                <td class="metric-rain text-right">926</td>
                                            </tr>
                                            <tr>
                                                <td>2020</td>
                                                <td>UK</td>
                                                <td class="metric-temp">7.8</td>
                                                <td class="metric-co2 text-right">5.7</td>
                                                <td class="metric-sea text-right">4.9</td>
                                                <td class="metric-rain text-right">1541</td>
                                            </tr>
                                            <tr>
                                                <td>2020</td>
                                                <td>USA</td>
                                                <td class="metric-temp">14.5</td>
                                                <td class="metric-co2 text-right">18.7</td>
                                                <td class="metric-sea text-right">4.9</td>
                                                <td class="metric-rain text-right">1418</td>
                                            </tr>
                                            <tr>
                                                <td>2021</td>
                                                <td>Argentina</td>
                                                <td class="metric-temp">12.9</td>
                                                <td class="metric-co2 text-right">3.6</td>
                                                <td class="metric-sea text-right">4.7</td>
                                                <td class="metric-rain text-right">829</td>
                                            </tr>
                                            <tr>
                                                <td>2021</td>
                                                <td>Australia</td>
                                                <td class="metric-temp">13.9</td>
                                                <td class="metric-co2 text-right">15.1</td>
                                                <td class="metric-sea text-right">4.1</td>
                                                <td class="metric-rain text-right">534</td>
                                            </tr>
                                            <tr>
                                                <td>2021</td>
                                                <td>Brazil</td>
                                                <td class="metric-temp">25.5</td>
                                                <td class="metric-co2 text-right">3</td>
                                                <td class="metric-sea text-right">3.2</td>
                                                <td class="metric-rain text-right">2320</td>
                                            </tr>
                                            <tr>
                                                <td>2021</td>
                                                <td>China</td>
                                                <td class="metric-temp">9.6</td>
                                                <td class="metric-co2 text-right">10.8</td>
                                                <td class="metric-sea text-right">3.1</td>
                                                <td class="metric-rain text-right">890</td>
                                            </tr>
                                            <tr>
                                                <td>2021</td>
                                                <td>France</td>
                                                <td class="metric-temp">11.8</td>
                                                <td class="metric-co2 text-right">5</td>
                                                <td class="metric-sea text-right">4.1</td>
                                                <td class="metric-rain text-right">1133</td>
                                            </tr>
                                            <tr>
                                                <td>2021</td>
                                                <td>Germany</td>
                                                <td class="metric-temp">9.7</td>
                                                <td class="metric-co2 text-right">10.4</td>
                                                <td class="metric-sea text-right">3</td>
                                                <td class="metric-rain text-right">1081</td>
                                            </tr>
                                            <tr>
                                                <td>2021</td>
                                                <td>Indonesia</td>
                                                <td class="metric-temp">24.1</td>
                                                <td class="metric-co2 text-right">3.3</td>
                                                <td class="metric-sea text-right">4.7</td>
                                                <td class="metric-rain text-right">2718</td>
                                            </tr>
                                            <tr>
                                                <td>2021</td>
                                                <td>Russia</td>
                                                <td class="metric-temp">10.9</td>
                                                <td class="metric-co2 text-right">5.5</td>
                                                <td class="metric-sea text-right">4.9</td>
                                                <td class="metric-rain text-right">942</td>
                                            </tr>
                                            <tr>
                                                <td>2021</td>
                                                <td>UK</td>
                                                <td class="metric-temp">12.3</td>
                                                <td class="metric-co2 text-right">5.5</td>
                                                <td class="metric-sea text-right">4</td>
                                                <td class="metric-rain text-right">1154</td>
                                            </tr>
                                            <tr>
                                                <td>2021</td>
                                                <td>USA</td>
                                                <td class="metric-temp">12.3</td>
                                                <td class="metric-co2 text-right">13.3</td>
                                                <td class="metric-sea text-right">3.3</td>
                                                <td class="metric-rain text-right">617</td>
                                            </tr>
                                            <tr>
                                                <td>2022</td>
                                                <td>Argentina</td>
                                                <td class="metric-temp">14.5</td>
                                                <td class="metric-co2 text-right">4.3</td>
                                                <td class="metric-sea text-right">4</td>
                                                <td class="metric-rain text-right">990</td>
                                            </tr>
                                            <tr>
                                                <td>2022</td>
                                                <td>Australia</td>
                                                <td class="metric-temp">16</td>
                                                <td class="metric-co2 text-right">15.1</td>
                                                <td class="metric-sea text-right">4.4</td>
                                                <td class="metric-rain text-right">756</td>
                                            </tr>
                                            <tr>
                                                <td>2022</td>
                                                <td>Brazil</td>
                                                <td class="metric-temp">25.8</td>
                                                <td class="metric-co2 text-right">2.6</td>
                                                <td class="metric-sea text-right">4.6</td>
                                                <td class="metric-rain text-right">1691</td>
                                            </tr>
                                            <tr>
                                                <td>2022</td>
                                                <td>China</td>
                                                <td class="metric-temp">9.6</td>
                                                <td class="metric-co2 text-right">8.9</td>
                                                <td class="metric-sea text-right">3.6</td>
                                                <td class="metric-rain text-right">645</td>
                                            </tr>
                                            <tr>
                                                <td>2022</td>
                                                <td>France</td>
                                                <td class="metric-temp">12.1</td>
                                                <td class="metric-co2 text-right">4.3</td>
                                                <td class="metric-sea text-right">4.4</td>
                                                <td class="metric-rain text-right">882</td>
                                            </tr>
                                            <tr>
                                                <td>2022</td>
                                                <td>Germany</td>
                                                <td class="metric-temp">9.8</td>
                                                <td class="metric-co2 text-right">8.2</td>
                                                <td class="metric-sea text-right">3.3</td>
                                                <td class="metric-rain text-right">654</td>
                                            </tr>
                                            <tr>
                                                <td>2022</td>
                                                <td>Indonesia</td>
                                                <td class="metric-temp">26.5</td>
                                                <td class="metric-co2 text-right">2.2</td>
                                                <td class="metric-sea text-right">3.3</td>
                                                <td class="metric-rain text-right">2700</td>
                                            </tr>
                                            <tr>
                                                <td>2022</td>
                                                <td>Russia</td>
                                                <td class="metric-temp">9.3</td>
                                                <td class="metric-co2 text-right">11.5</td>
                                                <td class="metric-sea text-right">3.3</td>
                                                <td class="metric-rain text-right">671</td>
                                            </tr>
                                            <tr>
                                                <td>2022</td>
                                                <td>UK</td>
                                                <td class="metric-temp">9.7</td>
                                                <td class="metric-co2 text-right">5.4</td>
                                                <td class="metric-sea text-right">3.3</td>
                                                <td class="metric-rain text-right">1045</td>
                                            </tr>
                                            <tr>
                                                <td>2022</td>
                                                <td>USA</td>
                                                <td class="metric-temp">13.4</td>
                                                <td class="metric-co2 text-right">13.1</td>
                                                <td class="metric-sea text-right">3.7</td>
                                                <td class="metric-rain text-right">566</td>
                                            </tr>
                                            <tr>
                                                <td>2023</td>
                                                <td>Argentina</td>
                                                <td class="metric-temp">13.0</td>
                                                <td class="metric-co2 text-right">4.4</td>
                                                <td class="metric-sea text-right">3.4</td>
                                                <td class="metric-rain text-right">1000</td>
                                            </tr>
                                            <tr>
                                                <td>2023</td>
                                                <td>Australia</td>
                                                <td class="metric-temp">17.0</td>
                                                <td class="metric-co2 text-right">14.9</td>
                                                <td class="metric-sea text-right">4.3</td>
                                                <td class="metric-rain text-right">534</td>
                                            </tr>
                                            <tr>
                                                <td>2023</td>
                                                <td>Brazil</td>
                                                <td class="metric-temp">24.4</td>
                                                <td class="metric-co2 text-right">2.0</td>
                                                <td class="metric-sea text-right">4.3</td>
                                                <td class="metric-rain text-right">1760</td>
                                            </tr>
                                            <tr>
                                                <td>2023</td>
                                                <td>China</td>
                                                <td class="metric-temp">12</td>
                                                <td class="metric-co2 text-right">6.6</td>
                                                <td class="metric-sea text-right">2.8</td>
                                                <td class="metric-rain text-right">670</td>
                                            </tr>
                                            <tr>
                                                <td>2023</td>
                                                <td>France</td>
                                                <td class="metric-temp">15.9</td>
                                                <td class="metric-co2 text-right">4.5</td>
                                                <td class="metric-sea text-right">3.2</td>
                                                <td class="metric-rain text-right">870</td>
                                            </tr>
                                            <tr>
                                                <td>2023</td>
                                                <td>Germany</td>
                                                <td class="metric-temp">10</td>
                                                <td class="metric-co2 text-right">7.9</td>
                                                <td class="metric-sea text-right">3.5</td>
                                                <td class="metric-rain text-right">700</td>
                                            </tr>
                                            <tr>
                                                <td>2023</td>
                                                <td>Indonesia</td>
                                                <td class="metric-temp">27.8</td>
                                                <td class="metric-co2 text-right">2.1</td>
                                                <td class="metric-sea text-right">4.4</td>
                                                <td class="metric-rain text-right">2648</td>
                                            </tr>
                                            <tr>
                                                <td>2023</td>
                                                <td>Russia</td>
                                                <td class="metric-temp">9.9</td>
                                                <td class="metric-co2 text-right">11.4</td>
                                                <td class="metric-sea text-right">3.3</td>
                                                <td class="metric-rain text-right">460</td>
                                            </tr>
                                            <tr>
                                                <td>2023</td>
                                                <td>UK</td>
                                                <td class="metric-temp">9.8</td>
                                                <td class="metric-co2 text-right">5.3</td>
                                                <td class="metric-sea text-right">4.2</td>
                                                <td class="metric-rain text-right">1154</td>
                                            </tr>
                                            <tr>
                                                <td>2023</td>
                                                <td>USA</td>
                                                <td class="metric-temp">12.6</td>
                                                <td class="metric-co2 text-right">11.2</td>
                                                <td class="metric-sea text-right">3.4</td>
                                                <td class="metric-rain text-right">731</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div> 
                        </div>
                    </div>
                </div>
            </div>
            <!-- END MAIN CONTENT-->
            <div class="row">
                <div class="col-md-12">
                    <div class="copyright">
                        <p>Copyright ¬© 2025 ClimateLens All rights reserved.</p>
                    </div>
                </div>
            </div>
        </div>
        <!-- END PAGE CONTAINER-->
    </div>

    <script src="js/vanilla-utils.js"></script>
    <script src="vendor/bootstrap-5.3.7.bundle.min.js"></script>
    <script src="vendor/perfect-scrollbar/perfect-scrollbar.js"></script>
    <script src="vendor/chartjs/Chart.bundle.min.js"></script>

    <script src="js/bootstrap5-init.js"></script>
    <script src="js/main-vanilla.js"></script>
    <script src="js/swiper-bundle.min.js"></script>
    <script src="js/aos.js"></script>
    <script src="js/modern-plugins.js"></script>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const countryFilter = document.getElementById('countryFilter');
            const metricFilter = document.getElementById('metricFilter');
            const tableRows = document.querySelectorAll('tbody tr');
            const activeFilters = document.getElementById('activeFilters');
            const countryBadge = document.getElementById('countryBadge');
            const metricBadge = document.getElementById('metricBadge');
            const clearCountryFilter = document.getElementById('clearCountryFilter');
            const clearMetricFilter = document.getElementById('clearMetricFilter');
            const sortableHeaders = document.querySelectorAll('.sortable-header');
            
            let currentSort = {
                column: null,
                direction: 'asc'
            };
            
            function filterTable() {
                const selectedCountry = countryFilter.value;
                const selectedMetric = metricFilter.value;
                
                if (selectedCountry || selectedMetric) {
                    activeFilters.style.display = 'block';
                    countryBadge.textContent = selectedCountry ? `Country: ${selectedCountry}` : '';
                    metricBadge.textContent = selectedMetric ? `Metric: ${getMetricName(selectedMetric)}` : '';
                } else {
                    activeFilters.style.display = 'none';
                }
                
                tableRows.forEach(row => {
                    const countryCell = row.cells[1].textContent;
                    const countryMatch = !selectedCountry || countryCell === selectedCountry;
                    
                    if (countryMatch) {
                        row.style.display = '';
                    } else {
                        row.style.display = 'none';
                    }
                });
                
                const allMetrics = ['temp', 'co2', 'sea', 'rain'];
                
                document.querySelectorAll('thead th').forEach((th, index) => {
                    if (index < 2) return;
                    
                    const metricClass = Array.from(th.classList).find(cls => cls.startsWith('metric-'));
                    if (metricClass) {
                        const metricType = metricClass.split('-')[1];
                        if (selectedMetric && metricType !== selectedMetric) {
                            th.style.display = 'none';
                        } else {
                            th.style.display = '';
                        }
                    }
                });
                
                tableRows.forEach(row => {
                    row.cells[0].style.display = '';
                    row.cells[1].style.display = '';
                    
                    for (let i = 2; i < row.cells.length; i++) {
                        const cell = row.cells[i];
                        const metricClass = Array.from(cell.classList).find(cls => cls.startsWith('metric-'));
                        
                        if (metricClass) {
                            const metricType = metricClass.split('-')[1];
                            if (selectedMetric && metricType !== selectedMetric) {
                                cell.style.display = 'none';
                            } else {
                                cell.style.display = '';
                            }
                        }
                    }
                });
                
                if (currentSort.column) {
                    sortTable(currentSort.column, currentSort.direction);
                }
            }
            
            function getMetricName(metricCode) {
                const metrics = {
                    'temp': 'Avg Temperature',
                    'co2': 'CO2 Emissions',
                    'sea': 'Sea Level Rise',
                    'rain': 'Rainfall'
                };
                return metrics[metricCode] || '';
            }
            
            function sortTable(column, direction) {
                const tbody = document.querySelector('tbody');
                const rows = Array.from(tbody.querySelectorAll('tr'));
                
                document.querySelectorAll('th, td').forEach(cell => {
                    cell.classList.remove('sorted');
                });
                
                const headerIndex = Array.from(document.querySelectorAll('th')).findIndex(th => 
                    th.getAttribute('data-sort') === column
                );
                
                if (headerIndex !== -1) {
                    document.querySelectorAll('th')[headerIndex].classList.add('sorted');
                    document.querySelectorAll(`tbody tr td:nth-child(${headerIndex + 1})`).forEach(td => {
                        td.classList.add('sorted');
                    });
                }
                
                rows.sort((a, b) => {
                    const aValue = a.children[headerIndex].textContent;
                    const bValue = b.children[headerIndex].textContent;
                    
                    const numericColumns = ['year', 'temp', 'co2', 'sea', 'rain'];
                    const isNumeric = numericColumns.includes(column);
                    
                    let valA, valB;
                    
                    if (isNumeric) {
                        valA = parseFloat(aValue) || 0;
                        valB = parseFloat(bValue) || 0;
                    } else {
                        valA = aValue.toLowerCase();
                        valB = bValue.toLowerCase();
                    }
                    
                    if (valA < valB) {
                        return direction === 'asc' ? -1 : 1;
                    }
                    if (valA > valB) {
                        return direction === 'asc' ? 1 : -1;
                    }
                    return 0;
                });
                
                while (tbody.firstChild) {
                    tbody.removeChild(tbody.firstChild);
                }
                
                rows.forEach(row => tbody.appendChild(row));
                
                updateSortIndicators(column, direction);
            }
            
            function updateSortIndicators(column, direction) {
                document.querySelectorAll('.sort-icon').forEach(icon => {
                    icon.classList.remove('asc', 'desc', 'active');
                });
                
                const activeHeader = document.querySelector(`th[data-sort="${column}"]`);
                if (activeHeader) {
                    const icon = activeHeader.querySelector('.sort-icon');
                    icon.classList.add(direction, 'active');
                }
            }
            
            sortableHeaders.forEach(header => {
                header.addEventListener('click', function() {
                    const column = this.getAttribute('data-sort');
                    
                    if (currentSort.column === column) {
                        currentSort.direction = currentSort.direction === 'asc' ? 'desc' : 'asc';
                    } else {
                        currentSort.column = column;
                        currentSort.direction = 'asc';
                    }
                    
                    sortTable(currentSort.column, currentSort.direction);
                });
            });
            
            countryFilter.addEventListener('change', filterTable);
            metricFilter.addEventListener('change', filterTable);
            
            clearCountryFilter.addEventListener('click', function() {
                countryFilter.value = '';
                filterTable();
            });
            
            clearMetricFilter.addEventListener('click', function() {
                metricFilter.value = '';
                filterTable();
            });
            
            sortTable('year', 'asc');
        });
    </script>
</body>

</html>